//database r_studyroom


//TABLE 생성

create table member(
mid varchar(20) not null primary key,
mpw varchar(60) not null,
mname varchar(20) not null,
mtel varchar(15) not null);

create table studyroom(
sname varchar(20) not null primary key,
stype varchar(20) not null,
scapacity varchar(10) not null);

create table reservation(
rnum int not null auto_increment primary key,
mid varchar(20) not null,
sname varchar(20) not null,
rdate varchar(20) not null,
rtime varchar(10) not null,
foreign key(mid) references member(mid),
foreign key(sname) references studyroom(sname));

create table r_check(
cnum int not null auto_increment primary key,
rnum int,
cstate varchar(20) null,
foreign key(rnum) references reservation(rnum));






// 4개의 테이블이 모두 조인되는 연산 -> 예약 조회 : 예약자 정보, 예약한 스터디 룸의 정보, 예약정보를 RESERVATION 테이블에서




/*TABLE 삭제*/

DROP TABLE reservation;
DROP TABLE member;
DROP TABLE studyroom;
DROP TABLE ...


/*튜플 추가*/

// MEMBER 테이블
INSERT INTO MEMBER VALUES(0, 'admin', '1714026', 'JIEUN', '01031241680');

//STUDYROOM 테이블
INSERT INTO STUDYROOM VALUES('a', 'a', '2');
INSERT INTO STUDYROOM VALUES('b', 'a', '2');
INSERT INTO STUDYROOM VALUES('c', 'b', '4');
INSERT INTO STUDYROOM VALUES('d', 'b', '4');
INSERT INTO STUDYROOM VALUES('e', 'b', '4');
INSERT INTO STUDYROOM VALUES('f', 'c', '6');
INSERT INTO STUDYROOM VALUES('g', 'c', '6');
INSERT INTO STUDYROOM VALUES('h', 'c', '6');
INSERT INTO STUDYROOM VALUES('i', 'c', '6');
INSERT INTO STUDYROOM VALUES('j', 'd', '10');



//RESERVATION_DETAILS 테이블
INSERT INTO RESERVATION_DETAILS VALUES(0, '날짜', '시간', '예약인원');

